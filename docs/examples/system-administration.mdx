---
title: "IBM i System Administration Tutorial"
description: "Step-by-step guide to performing system administration tasks using the sys-admin toolset"
---

# IBM i System Administration Tutorial

This tutorial demonstrates how to use the **sys-admin** toolset to perform common system administration tasks on IBM i systems. You'll learn to discover, explore, and manage IBM i services using real tools from the prebuilt configuration.

## Prerequisites

- IBM i MCP Server configured with the sys-admin toolset
- Python environment with MCP client library
- Access to an IBM i system with appropriate permissions

## Overview of the Sys Admin Toolset

The sys-admin toolset provides three main categories of tools:

- **Discovery**: High-level summaries and service counts
- **Browse**: Explore services by category, schema, and type  
- **Search**: Find specific services and usage examples

## Step 1: Setting Up Your Environment

First, set up your Python environment to work with the MCP server:

```python
import asyncio
from mcp import ClientSession, StdioServerParameters
from mcp.client.stdio import stdio_client

async def connect_to_server():
    """Connect to the IBM i MCP Server"""
    server_params = StdioServerParameters(
        command="node",
        args=["path/to/ibmi-mcp-server/dist/index.js"],
        env=None
    )
    
    async with stdio_client(server_params) as (read, write):
        async with ClientSession(read, write) as session:
            await session.initialize()
            return session

# Initialize connection
session = await connect_to_server()
```

## Step 2: Discovering Available Services

Let's start by getting a high-level overview of what services are available on your IBM i system.

### 2.1 List Service Categories

First, discover all available service categories and their counts:

```python
async def discover_service_categories():
    """Get overview of all service categories"""
    result = await session.call_tool(
        "list_service_categories",
        arguments={}
    )
    
    print("üìä Service Categories Overview:")
    print("=" * 50)
    
    for row in result.content[0].text:
        category = row['service_category']
        count = row['service_count']
        print(f"{category:<25} | {count:>5} services")
    
    return result

categories_result = await discover_service_categories()
```

### 2.2 Count Services by Schema

Next, see which schemas provide the most services:

```python
async def count_services_by_schema():
    """Count services provided by each schema"""
    result = await session.call_tool(
        "count_services_by_schema",
        arguments={}
    )
    
    print("\nüèõÔ∏è Services by Schema:")
    print("=" * 40)
    
    for row in result.content[0].text:
        schema = row['service_schema_name']
        count = row['service_count']
        print(f"{schema:<15} | {count:>5} services")
    
    return result

schema_result = await count_services_by_schema()
```

### 2.3 Analyze SQL Object Types

Understand what types of SQL objects are available:

```python
async def count_services_by_type():
    """Analyze services by SQL object type"""
    result = await session.call_tool(
        "count_services_by_sql_object_type",
        arguments={}
    )
    
    print("\nüîß Services by SQL Object Type:")
    print("=" * 45)
    
    for row in result.content[0].text:
        obj_type = row['sql_object_type']
        count = row['service_count']
        print(f"{obj_type:<20} | {count:>5} services")
    
    return result

type_result = await count_services_by_type()
```

## Step 3: Exploring Specific Categories

Now let's dive deeper into specific categories of interest.

### 3.1 Browse System Management Services

Let's explore what system management tools are available:

```python
async def explore_system_category():
    """Browse services in the System category"""
    result = await session.call_tool(
        "list_services_by_category",
        arguments={"category": "System"}
    )
    
    print("\nüñ•Ô∏è System Management Services:")
    print("=" * 60)
    
    for row in result.content[0].text:
        schema = row['service_schema_name']
        service = row['service_name']
        obj_type = row['sql_object_type']
        release = row['earliest_possible_release']
        
        print(f"{schema}.{service}")
        print(f"   Type: {obj_type} | Since: {release}")
        print()
    
    return result

system_services = await explore_system_category()
```

### 3.2 Explore QSYS2 Schema

QSYS2 is the primary schema for system services. Let's see what categories it covers:

```python
async def explore_qsys2_categories():
    """Explore categories within QSYS2 schema"""
    result = await session.call_tool(
        "list_categories_for_schema",
        arguments={"schema_name": "QSYS2"}
    )
    
    print("\nüìö QSYS2 Schema Categories:")
    print("=" * 50)
    
    for row in result.content[0].text:
        category = row['service_category']
        count = row['service_count']
        print(f"{category:<25} | {count:>5} services")
    
    return result

qsys2_categories = await explore_qsys2_categories()
```

## Step 4: Searching for Specific Services

### 4.1 Find Services by Name

Search for services related to jobs:

```python
async def search_job_services():
    """Search for job-related services"""
    result = await session.call_tool(
        "search_services_by_name",
        arguments={"name_contains": "JOB"}
    )
    
    print("\nüîç Job-Related Services:")
    print("=" * 55)
    
    for row in result.content[0].text[:10]:  # Show first 10 results
        category = row['service_category']
        schema = row['service_schema_name']
        service = row['service_name']
        obj_type = row['sql_object_type']
        
        print(f"{schema}.{service}")
        print(f"   Category: {category} | Type: {obj_type}")
        print()
    
    return result

job_services = await search_job_services()
```

### 4.2 Get Service Usage Examples

Let's get practical examples for a specific service:

```python
async def get_service_example():
    """Get usage example for ACTIVE_JOB_INFO"""
    result = await session.call_tool(
        "get_service_example",
        arguments={
            "schema_name": "QSYS2",
            "service_name": "ACTIVE_JOB_INFO"
        }
    )
    
    print("\nüìñ ACTIVE_JOB_INFO Usage Example:")
    print("=" * 60)
    
    if result.content[0].text:
        example = result.content[0].text[0]['example']
        print(example)
    else:
        print("No example available for this service")
    
    return result

example_result = await get_service_example()
```

### 4.3 Search Examples by Keyword

Find services that work with performance data:

```python
async def search_performance_examples():
    """Search for services with performance-related examples"""
    result = await session.call_tool(
        "search_examples_for_keyword",
        arguments={"keyword": "performance"}
    )
    
    print("\n‚ö° Performance-Related Services:")
    print("=" * 55)
    
    for row in result.content[0].text:
        schema = row['service_schema_name']
        service = row['service_name']
        snippet = row['example_snippet']
        
        print(f"{schema}.{service}")
        print(f"   Example snippet: {snippet[:100]}...")
        print()
    
    return result

perf_examples = await search_performance_examples()
```

## Step 5: Advanced Service Discovery

### 5.1 Find Views vs. Procedures

Let's distinguish between different types of SQL objects:

```python
async def compare_views_procedures():
    """Compare VIEW and PROCEDURE services"""
    
    # Get all VIEWs
    views_result = await session.call_tool(
        "list_services_by_sql_object_type",
        arguments={"sql_object_type": "VIEW"}
    )
    
    # Get all PROCEDUREs  
    procs_result = await session.call_tool(
        "list_services_by_sql_object_type", 
        arguments={"sql_object_type": "PROCEDURE"}
    )
    
    print("\nüîç Views vs. Procedures Analysis:")
    print("=" * 50)
    
    view_count = len(views_result.content[0].text)
    proc_count = len(procs_result.content[0].text)
    
    print(f"Total VIEWs: {view_count}")
    print(f"Total PROCEDUREs: {proc_count}")
    
    print("\nSample VIEWs:")
    for row in views_result.content[0].text[:5]:
        schema = row['service_schema_name']
        service = row['service_name']
        print(f"  - {schema}.{service}")
    
    print("\nSample PROCEDUREs:")
    for row in procs_result.content[0].text[:5]:
        schema = row['service_schema_name']
        service = row['service_name'] 
        print(f"  - {schema}.{service}")

await compare_views_procedures()
```

### 5.2 Locate Specific Services

Find where a specific service is located:

```python
async def locate_service():
    """Find location and details for MEMORY_POOL_INFO"""
    result = await session.call_tool(
        "where_is_service",
        arguments={"service_name": "MEMORY_POOL_INFO"}
    )
    
    print("\nüìç MEMORY_POOL_INFO Service Location:")
    print("=" * 55)
    
    if result.content[0].text:
        for row in result.content[0].text:
            schema = row['service_schema_name']
            service = row['service_name']
            category = row['service_category']
            obj_type = row['sql_object_type']
            system_obj = row['system_object_name']
            release = row['earliest_possible_release']
            
            print(f"Service: {schema}.{service}")
            print(f"Category: {category}")
            print(f"Type: {obj_type}")
            print(f"System Object: {system_obj}")
            print(f"Available since: {release}")
    else:
        print("Service not found")
    
    return result

location_result = await locate_service()
```

## Step 6: Generating Database Object DDL

One of the most powerful tools in the sys-admin toolset is `describe_object`, which generates DDL for any database object:

```python
async def describe_table():
    """Generate DDL for a system table"""
    result = await session.call_tool(
        "describe_object",
        arguments={
            "name": "ACTIVE_JOB_INFO",
            "library": "QSYS2", 
            "type": "VIEW"
        }
    )
    
    print("\nüìÑ ACTIVE_JOB_INFO DDL:")
    print("=" * 50)
    
    # The result contains the generated DDL
    ddl_output = result.content[0].text
    print(ddl_output)
    
    return result

ddl_result = await describe_table()
```

## Complete System Administration Workflow

Here's a complete workflow that combines all the tools for a comprehensive system analysis:

```python
async def comprehensive_system_analysis():
    """Complete system administration analysis workflow"""
    
    print("üöÄ Starting Comprehensive System Analysis")
    print("=" * 60)
    
    # 1. Get high-level overview
    print("\n1Ô∏è‚É£ Service Overview")
    categories = await session.call_tool("list_service_categories", {})
    print(f"Found {len(categories.content[0].text)} service categories")
    
    # 2. Focus on system management
    print("\n2Ô∏è‚É£ System Management Focus")
    system_services = await session.call_tool(
        "list_services_by_category",
        {"category": "System"}
    )
    
    # 3. Analyze QSYS2 capabilities
    print("\n3Ô∏è‚É£ QSYS2 Analysis")
    qsys2_stats = await session.call_tool(
        "list_categories_for_schema",
        {"schema_name": "QSYS2"}
    )
    
    # 4. Search for performance tools
    print("\n4Ô∏è‚É£ Performance Tools Discovery")
    perf_tools = await session.call_tool(
        "search_services_by_name",
        {"name_contains": "POOL"}
    )
    
    # 5. Get example for key service
    print("\n5Ô∏è‚É£ Usage Examples")
    memory_example = await session.call_tool(
        "get_service_example",
        {
            "schema_name": "QSYS2",
            "service_name": "MEMORY_POOL_INFO"
        }
    )
    
    # 6. Generate DDL for analysis
    print("\n6Ô∏è‚É£ Object Analysis") 
    ddl_result = await session.call_tool(
        "describe_object",
        {
            "name": "MEMORY_POOL_INFO",
            "library": "QSYS2",
            "type": "VIEW"
        }
    )
    
    print("\n‚úÖ Analysis Complete!")
    
    return {
        "categories": categories,
        "system_services": system_services,
        "qsys2_stats": qsys2_stats,
        "perf_tools": perf_tools,
        "memory_example": memory_example,
        "ddl_result": ddl_result
    }

# Run the complete analysis
analysis_results = await comprehensive_system_analysis()
```

## Best Practices for System Administration

### 1. Start with Discovery
Always begin with the discovery tools to understand what's available:
- `list_service_categories` - Get the big picture
- `count_services_by_schema` - Identify key schemas
- `count_services_by_sql_object_type` - Understand service types

### 2. Use Progressive Exploration  
Move from general to specific:
1. Categories ‚Üí Schemas ‚Üí Individual Services
2. Search broadly, then narrow down
3. Get examples before implementing

### 3. Leverage Service Examples
- Use `get_service_example` for proper syntax
- Search `search_examples_for_keyword` for patterns
- Study the DDL with `describe_object` for structure

### 4. Document Your Discoveries
Create a reference of useful services:

```python
# Build a service catalog
useful_services = {
    "performance": [
        "QSYS2.MEMORY_POOL_INFO",
        "QSYS2.ACTIVE_JOB_INFO", 
        "QSYS2.SYSTEM_STATUS_INFO"
    ],
    "security": [
        "QSYS2.USER_INFO",
        "QSYS2.OBJECT_PRIVILEGES"
    ],
    "storage": [
        "QSYS2.ASP_INFO",
        "QSYS2.OBJECT_STATISTICS"
    ]
}
```

## Troubleshooting Common Issues

### Service Not Found
```python
# Always verify service exists first
result = await session.call_tool(
    "where_is_service",
    {"service_name": "SUSPECTED_SERVICE"}
)

if not result.content[0].text:
    print("Service not found. Try searching:")
    search_result = await session.call_tool(
        "search_services_by_name", 
        {"name_contains": "SUSPECTED"}
    )
```

### Understanding Object Types
```python
# When unsure about object type for describe_object
location = await session.call_tool(
    "where_is_service",
    {"service_name": "SERVICE_NAME"}
)

# Use the sql_object_type from the result
obj_type = location.content[0].text[0]['sql_object_type']
```

`‚òÖ Insight ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ`
**Service Discovery Strategy**: IBM i systems contain thousands of services across different schemas. The sys-admin toolset implements a progressive discovery pattern - start broad with categories and schemas, then narrow down to specific services. This mirrors how experienced IBM i administrators naturally explore systems.

**DDL Generation Power**: The `describe_object` tool uses IBM i's GENERATE_SQL procedure, which can reverse-engineer the complete DDL for any database object. This is invaluable for understanding complex views, analyzing table structures, and documenting system components.

**Example-Driven Learning**: IBM i services often have complex syntax and parameters. The toolset's example search capabilities leverage the built-in SERVICES_INFO view, which contains usage examples for most services, enabling administrators to learn proper usage patterns quickly.
`‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ`

## Next Steps

After mastering these system administration tools, you can:

1. **Build Custom Dashboards**: Combine service data into monitoring dashboards
2. **Automate Discovery**: Create scripts to regularly catalog new services
3. **Integration Workflows**: Use service information to build integration patterns
4. **Documentation Generation**: Auto-generate system documentation from service metadata

The sys-admin toolset provides the foundation for understanding and managing any IBM i system's capabilities, making it an essential toolkit for system administrators and developers alike.